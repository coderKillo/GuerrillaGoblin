[gd_scene load_steps=17 format=3 uid="uid://dccu653gjovwu"]

[ext_resource type="Script" path="res://game/entities/tower/tower.gd" id="1_oj76o"]
[ext_resource type="Texture2D" uid="uid://cpejnp2fqwflw" path="res://assets/tiny_swords/Factions/Knights/Buildings/Tower/Tower_Destroyed.png" id="2_on43s"]
[ext_resource type="Texture2D" uid="uid://5x0vdbpyv281" path="res://assets/tiny_swords/Factions/Knights/Buildings/Tower/Tower_Blue.png" id="2_t8guu"]
[ext_resource type="Texture2D" uid="uid://dw5dd7e66apmc" path="res://assets/tiny_swords/Factions/Knights/Buildings/Tower/Tower_Blue2.png" id="3_r3qlk"]
[ext_resource type="Texture2D" uid="uid://bc5io4pd47ai0" path="res://assets/tiny_swords/Effects/Fire/Fire.png" id="4_hh7ew"]
[ext_resource type="Script" path="res://game/entities/model2d.gd" id="4_l7oou"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_kx40p"]
height = 1.8
radius = 0.557756

[sub_resource type="CylinderShape3D" id="CylinderShape3D_50i3c"]
height = 0.773057
radius = 0.834942

[sub_resource type="AtlasTexture" id="AtlasTexture_hems4"]
atlas = ExtResource("4_hh7ew")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_lt6bf"]
atlas = ExtResource("4_hh7ew")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ivb5"]
atlas = ExtResource("4_hh7ew")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_c5ovo"]
atlas = ExtResource("4_hh7ew")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_gn63q"]
atlas = ExtResource("4_hh7ew")
region = Rect2(512, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_lnsse"]
atlas = ExtResource("4_hh7ew")
region = Rect2(640, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_34bf8"]
atlas = ExtResource("4_hh7ew")
region = Rect2(768, 0, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_00dap"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hems4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lt6bf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ivb5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c5ovo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gn63q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lnsse")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_34bf8")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[node name="tower" type="Node2D" node_paths=PackedStringArray("light_damage_sprite", "heavy_damage_sprite", "destroy_sprite", "object_3d", "model_2d")]
y_sort_enabled = true
script = ExtResource("1_oj76o")
light_damage_sprite = NodePath("Model2D/DamagedLight")
heavy_damage_sprite = NodePath("Model2D/DamagedHeavy")
destroy_sprite = NodePath("Model2D/Destoyed")
object_3d = NodePath("StaticBody3D")
model_2d = NodePath("Model2D")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
collision_layer = 2
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, -0.52771)
shape = SubResource("CylinderShape3D_kx40p")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.40368, -0.52771)
shape = SubResource("CylinderShape3D_50i3c")

[node name="Sprite3D" type="Sprite3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 1.00476, -1.05056)
pixel_size = 0.0156
texture = ExtResource("2_t8guu")

[node name="Model2D" type="Node2D" parent="."]
script = ExtResource("4_l7oou")

[node name="Sprite2D" type="Sprite2D" parent="Model2D"]
y_sort_enabled = true
texture = ExtResource("3_r3qlk")
offset = Vector2(0, -95)

[node name="Sprite2D" type="Sprite2D" parent="Model2D/Sprite2D"]
y_sort_enabled = true
position = Vector2(0, -49)
texture = ExtResource("2_t8guu")
offset = Vector2(0, -46)

[node name="Destoyed" type="Sprite2D" parent="Model2D"]
visible = false
y_sort_enabled = true
texture = ExtResource("2_on43s")
offset = Vector2(0, -95)

[node name="DamagedLight" type="Node2D" parent="Model2D"]
visible = false
y_sort_enabled = true

[node name="Fire1" type="AnimatedSprite2D" parent="Model2D/DamagedLight"]
position = Vector2(-15, 3)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_00dap")
autoplay = "default"
frame_progress = 0.370435
offset = Vector2(0, -49.07)

[node name="Fire4" type="AnimatedSprite2D" parent="Model2D/DamagedLight"]
position = Vector2(42, -51)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_00dap")
autoplay = "default"
frame_progress = 0.886262
offset = Vector2(0, -224.06)

[node name="DamagedHeavy" type="Node2D" parent="Model2D"]
visible = false
y_sort_enabled = true

[node name="Fire5" type="AnimatedSprite2D" parent="Model2D/DamagedHeavy"]
position = Vector2(-32, -57)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_00dap")
autoplay = "default"
frame_progress = 0.142054
offset = Vector2(0, -224.06)

[node name="Fire2" type="AnimatedSprite2D" parent="Model2D/DamagedHeavy"]
position = Vector2(0, -43)
sprite_frames = SubResource("SpriteFrames_00dap")
autoplay = "default"
frame_progress = 0.43487
offset = Vector2(0, -113.485)

[node name="Fire3" type="AnimatedSprite2D" parent="Model2D/DamagedHeavy"]
position = Vector2(37, -35)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_00dap")
autoplay = "default"
frame_progress = 0.885908
offset = Vector2(0, -49.07)
